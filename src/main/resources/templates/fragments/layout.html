<!doctype html>
<html th:fragment="layout (template, menu)">

<head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Spring PetClinic modernizada para AWS Community Day Argentina 2025. Demo de modernizaciÃ³n con Amazon Q, MCP y Amazon EKS.">
  <meta name="keywords" content="AWS, Amazon Q, MCP, EKS, Spring Boot, Modernization, Argentina, Community Day">
  <meta name="author" content="Rossana Suarez (@roxsross), MatÃ­as Anoniz">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="PetClinic AWS - Modernizada para AWS Community Day Argentina">
  <meta property="og:description" content="Demo de modernizaciÃ³n de aplicaciones legacy con Amazon Q, MCP y Amazon EKS">
  <meta property="og:image" content="/resources/images/pets.png">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="PetClinic AWS - AWS Community Day Argentina ðŸ‡¦ðŸ‡·">
  <meta name="twitter:description" content="ModernizaciÃ³n de aplicaciones con AWS - Demo por @roxsross">

  <link rel="shortcut icon" type="image/x-icon" th:href="@{/resources/images/favicon.png}">

  <title>PetClinic AWS :: Modernizada para AWS Community Day Argentina ðŸ‡¦ðŸ‡·</title>

  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- Icons and Styling -->
  <link th:href="@{/webjars/font-awesome/css/font-awesome.min.css}" rel="stylesheet">
  <!-- Font Awesome 6 for modern icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" 
        crossorigin="anonymous" referrerpolicy="no-referrer">
  <link rel="stylesheet" th:href="@{/resources/css/petclinic.css}" />
  <link rel="stylesheet" th:href="@{/resources/css/aws-theme.css}" />

</head>

<body>

  <!-- AWS Community Day Banner -->
  <div class="aws-demo-banner">
    <div class="container">
      <div class="d-flex align-items-center justify-content-center flex-wrap">
        <strong>âš¡ DEMO EN VIVO</strong> 
        <span class="mx-2">â€¢</span>
        AWS Community Day Argentina 2025 
        <span class="mx-2">â€¢</span>
        <span class="badge tech-badge">Amazon Q</span>
        <span class="badge tech-badge mcp">MCP</span>
        <span class="badge tech-badge eks">EKS</span>
      </div>
    </div>
  </div>

  <nav class="navbar navbar-expand-lg navbar-dark" role="navigation">
    <div class="container-fluid">
      <a class="navbar-brand" th:href="@{/}">
        <img th:src="@{/resources/images/logocmday-01.svg}" 
             src="../static/resources/images/logocmday-01.svg"
             alt="AWS Community Day Argentina" 
             class="aws-community-logo" 
             loading="eager"
             decoding="async"
             onload="this.classList.add('loaded')"
             onerror="handleLogoError(this)" />
        <span class="brand-text">PetClinic Demo</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#main-navbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="main-navbar" style>

        <ul class="navbar-nav me-auto mb-2 mb-lg-0" th:remove="all">

          <li th:fragment="menuItem (link,active,title,glyph,text)" th:class="nav-item">
            <a th:class="${active==menu ? 'nav-link active' : 'nav-link'}" th:href="@{__${link}__}" th:title="${title}">
              <i th:class="'nav-icon '+${glyph}" class="nav-icon fas fa-home"></i>
              <span class="nav-text" th:text="${text}">Template</span>
            </a>
          </li>

        </ul>

        <ul class="nav navbar-nav me-auto">

          <li th:replace="::menuItem ('/','home','home page','fas fa-home','HOME')">
            <i class="nav-icon fas fa-home" aria-hidden="true"></i>
            <span class="nav-text">HOME</span>
          </li>

          <li th:replace="::menuItem ('/owners/find','owners','find owners','fas fa-search','FIND OWNERS')">
            <i class="nav-icon fas fa-search" aria-hidden="true"></i>
            <span class="nav-text">FIND OWNERS</span>
          </li>

          <li th:replace="::menuItem ('/vets.html','vets','veterinarians','fas fa-user-md','VETERINARIANS')">
            <i class="nav-icon fas fa-user-md" aria-hidden="true"></i>
            <span class="nav-text">VETERINARIANS</span>
          </li>

          <li
            th:replace="::menuItem ('/oups','error','trigger a RuntimeException to see how it is handled','fas fa-exclamation-triangle','ERROR DEMO')">
            <i class="nav-icon fas fa-exclamation-triangle" aria-hidden="true"></i>
            <span class="nav-text">ERROR DEMO</span>
          </li>

        </ul>
      </div>
    </div>
  </nav>
  <div class="container-fluid">
    <div class="container xd-container">

      <th:block th:include="${template}" />

      <br />
      <br />
      <div class="container">
        <div class="row">
          <div class="col-12 text-center">
            <img src="../static/resources/images/spring-pivotal-logo.png"
              th:src="@{/resources/images/spring-pivotal-logo.png}" alt="Sponsored by Pivotal" />
          </div>
        </div>
        <div class="row" style="margin-top: 15px;">
          <div class="col-12 text-center">
            <small class="text-muted">
              <img th:src="@{/resources/images/logocmday-01.svg}" 
                   src="../static/resources/images/logocmday-01.svg"
                   alt="AWS Community Day Argentina" 
                   class="footer-logo"
                   loading="lazy"
                   onerror="handleFooterLogoError(this)" />
              Modernizada para AWS Community Day Argentina 2025 
              <br>
              por <strong>Rossana Suarez (@roxsross)</strong> - AWS Container Hero & <strong>MatÃ­as Anoniz</strong> - AWS Solutions Architect
            </small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script th:src="@{/webjars/bootstrap/dist/js/bootstrap.bundle.min.js}"></script>

  <script>
    // Intelligent logo error handling
    function handleLogoError(img) {
      console.warn('Primary logo failed to load, trying fallback...');
      
      // Try fallback image first
      if (!img.classList.contains('fallback-tried')) {
        img.classList.add('fallback-tried');
        img.src = '/resources/images/aws-community-day-temp.svg';
        return;
      }
      
      // If fallback also fails, show styled text
      img.style.display = 'none';
      const logoContainer = img.parentElement;
      const fallbackDiv = document.createElement('div');
      fallbackDiv.className = 'logo-error-state';
      fallbackDiv.innerHTML = 'AWS Community Day<br>Argentina';
      fallbackDiv.style.display = 'inline-block';
      fallbackDiv.style.verticalAlign = 'middle';
      logoContainer.insertBefore(fallbackDiv, img);
    }
    
    function handleFooterLogoError(img) {
      console.warn('Footer logo failed to load, using fallback...');
      
      if (!img.classList.contains('fallback-tried')) {
        img.classList.add('fallback-tried');
        img.src = '/resources/images/aws-community-day-temp.svg';
        return;
      }
      
      // Fallback to text
      img.style.display = 'none';
      const textNode = document.createTextNode('ðŸš€ AWS Community Day Argentina ');
      img.parentNode.insertBefore(textNode, img);
    }
    
    // Preload primary logo for better performance
    document.addEventListener('DOMContentLoaded', function() {
      const logoPreload = new Image();
      logoPreload.src = '/resources/images/logocmday-01.svg';
      
      // Add loading success class when ready
      logoPreload.onload = function() {
        const logos = document.querySelectorAll('.aws-community-logo, .footer-logo');
        logos.forEach(logo => {
          if (logo.complete && logo.naturalHeight !== 0) {
            logo.classList.add('loaded');
          }
        });
      };
    });
  </script>

</body>

</html>
